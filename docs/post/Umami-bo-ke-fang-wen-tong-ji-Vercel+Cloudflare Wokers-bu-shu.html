<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://source.314926.xyz/assets/primer.css' rel='stylesheet' />
    <script src='https://source.314926.xyz/assets/GmeekVercount.js'></script>
    <link rel="icon" href="https://cn.cravatar.com/avatar/1F6C8947D35A8186A1647009BA8BC5F2?size=256"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="## 第一部分：Vercel+Umami

1. 第一步
    1.1 <kbd>Fork</kbd>​[umami](https://github.com/umami-software/umami)到自己的Github仓库

    ![](https://s2.loli.net/2025/04/06/c4xDVNrsBpTM8YZ.webp)

    1.2 创建项目
![](https://s2.loli.net/2025/04/06/GX9OdivuxF5pJzH.webp)

2. 第二步

　2.1 创建[Vercel](https://vercel.com/login)账号，这里我就省略了，因为GitHub可以直接进行授权即可。">
<meta property="og:title" content="Umami博客访问统计Vercel+Cloudflare Wokers部署">
<meta property="og:description" content="## 第一部分：Vercel+Umami

1. 第一步
    1.1 <kbd>Fork</kbd>​[umami](https://github.com/umami-software/umami)到自己的Github仓库

    ![](https://s2.loli.net/2025/04/06/c4xDVNrsBpTM8YZ.webp)

    1.2 创建项目
![](https://s2.loli.net/2025/04/06/GX9OdivuxF5pJzH.webp)

2. 第二步

　2.1 创建[Vercel](https://vercel.com/login)账号，这里我就省略了，因为GitHub可以直接进行授权即可。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://Kemiaojun.github.io/post/Umami-bo-ke-fang-wen-tong-ji-Vercel%2BCloudflare%20Wokers-bu-shu.html">
<meta property="og:image" content="https://s2.loli.net/2025/04/20/V8zWaEoxP5msqNQ.jpg">
<title>Umami博客访问统计Vercel+Cloudflare Wokers部署</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>
<style>#postBody{font-size:20px}</style>



<body>
    <div id="header">
<h1 class="postTitle">Umami博客访问统计Vercel+Cloudflare Wokers部署</h1>
<div class="title-right">
    <a href="https://Kemiaojun.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/Kemiaojun/Kemiaojun.github.io/issues/7" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h2>第一部分：Vercel+Umami</h2>
<ol>
<li>
<p>第一步<br>
1.1 <kbd>Fork</kbd>​<a href="https://github.com/umami-software/umami">umami</a>到自己的Github仓库</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/d2ce33257a7927a7f8bc765604d0d4ba81430d37b1174cf8461e254abe16dd59/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f63347844564e72734270544d38595a2e77656270"><img src="https://camo.githubusercontent.com/d2ce33257a7927a7f8bc765604d0d4ba81430d37b1174cf8461e254abe16dd59/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f63347844564e72734270544d38595a2e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/c4xDVNrsBpTM8YZ.webp" style="max-width: 100%;"></a></p>
<p>1.2 创建项目<br>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/1373ad097a09b3b5b8be7bafcac1f443d1f51bffdca6c0bd439718bf0c2b64ca/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f4758394f64697675784635704a7a482e77656270"><img src="https://camo.githubusercontent.com/1373ad097a09b3b5b8be7bafcac1f443d1f51bffdca6c0bd439718bf0c2b64ca/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f4758394f64697675784635704a7a482e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/GX9OdivuxF5pJzH.webp" style="max-width: 100%;"></a></p>
</li>
<li>
<p>第二步</p>
</li>
</ol>
<p>　2.1 创建<a href="https://vercel.com/login" rel="nofollow">Vercel</a>账号，这里我就省略了，因为GitHub可以直接进行授权即可。</p>
<p>2.2 在你授权以后，首先创建<kbd>Postgres</kbd>数据库，直接一路下一步，创建好就行，可以给下面的连接复制出来</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fdc735b29a10c472acb48d22585b65c2fc5cf5cc1b52c1dedfc9ca6613b1cb0e/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f4b36394670666d6a5a7863753341642e77656270"><img src="https://camo.githubusercontent.com/fdc735b29a10c472acb48d22585b65c2fc5cf5cc1b52c1dedfc9ca6613b1cb0e/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f4b36394670666d6a5a7863753341642e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/K69FpfmjZxcu3Ad.webp" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/c8107e97670135a306f7824c273cc79ad03a27e5c15c2b03a423d7049272a67b/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f374f6965454b476874346b675375782e77656270"><img src="https://camo.githubusercontent.com/c8107e97670135a306f7824c273cc79ad03a27e5c15c2b03a423d7049272a67b/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f374f6965454b476874346b675375782e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/7OieEKGht4kgSux.webp" style="max-width: 100%;"></a></p>
<p>　　点击<kbd>Copy Snippet</kbd>，就可以，记住在粘贴的时候是我画线里面的部分，双引号都不需要 ，因为要设置环境变量。</p>
<p>　　 2.3 在创建好数据库以后，回到主页面的<kbd>Overview</kbd>​，然后右上角有一个<kbd>Add New</kbd>​选择添加<kbd>Project</kbd>​，选择你<kbd>Fork</kbd>​的<kbd>umami</kbd>​，添加即可。<br>
2.4 设置环境变量，<code class="notranslate">DATABASE_URL</code>​和<code class="notranslate">HASH_SALT</code>​和<code class="notranslate">TRACKER_SCRIPT_NAME</code>​，其中<code class="notranslate">DATABASE_URL</code>​的值就是上面划线的部分，其他的两个环境变量都是对应的值是String自己可以随意定义。<br>
　　 2.5 设置好以后点击<kbd>Deploy</kbd>​，等待大约两分钟左右，自动部署完成，部署完成以后可以通过下图种面板上面给的链接可以直接访问。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8ead5739465cecf2ed60d3e1166940db00f36456d5b359b2b0346ea3f6ebf9df/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f6168583277484c7266594144375a572e77656270"><img src="https://camo.githubusercontent.com/8ead5739465cecf2ed60d3e1166940db00f36456d5b359b2b0346ea3f6ebf9df/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f6168583277484c7266594144375a572e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/ahX2wHLrfYAD7ZW.webp" style="max-width: 100%;"></a></p>
<p>　　 2.6 打开以后会跳出登录地址，默认的登录密码是<kbd>adminumami</kbd>​，登录进去以后，设置给自己密码修改了，然后就是设置里面添加网站，给你要统计的网站添加进去，到此，别人访问你的网站你可以通过面板看到统计数据了。</p>
<h2>第二部分：Umami+Cloudflare worker这一部分主要是让你的博客上面能展示的访问数据，效果如下：</h2>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/8db904b5d09e4457f90113870bd3dde4996da7cdc2f78aef9af66229078ad9c7/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f66523731614647346f4d443239507a2e77656270"><img src="https://camo.githubusercontent.com/8db904b5d09e4457f90113870bd3dde4996da7cdc2f78aef9af66229078ad9c7/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f66523731614647346f4d443239507a2e77656270" alt="image" data-canonical-src="https://s2.loli.net/2025/04/06/fR71aFG4oMD29Pz.webp" style="max-width: 100%;"></a></p>
<ol>
<li>注册<kbd>CloudFlare</kbd>​账号，然后进去以后，选择<kbd>Workers</kbd>​和<kbd>Pages</kbd>​，点击<kbd>创建</kbd>​，再点击<kbd>部署</kbd></li>
</ol>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/841a76a7c296ec2f30cbb3c74d7d1110a1c864c91cd9463f7a991c36c7ab05ef/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f43596f6a716447486b6975466570512e77656270"><img src="https://camo.githubusercontent.com/841a76a7c296ec2f30cbb3c74d7d1110a1c864c91cd9463f7a991c36c7ab05ef/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f43596f6a716447486b6975466570512e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/CYojqdGHkiuFepQ.webp" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e7f495be441686dba159279d0b26011494bce79f60bc2404e39eb5b1c7cf3017/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f3642327258786b34557537314751432e77656270"><img src="https://camo.githubusercontent.com/e7f495be441686dba159279d0b26011494bce79f60bc2404e39eb5b1c7cf3017/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f3642327258786b34557537314751432e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/6B2rXxk4Uu71GQC.webp" style="max-width: 100%;"></a></p>
<p>　　部署以后，进去点击编辑代码，将里面的代码进行替换：</p>
<pre class="notranslate"><code class="notranslate">addEventListener('fetch', event =&gt; {
  event.respondWith(handleRequest(event));
});

const API_BASE_URL = 'https://umami.yourdomain.com';  // 替换你的刚才部署的umami的域名
const TOKEN = 'your_token'; // 获取的token
const WEBSITE_ID = 'your_website_id'; // 在umami添加网站的 webstie id
const CACHE_KEY = 'umami_cache';
const CACHE_TIME = 600; // Cache time in seconds

async function fetchUmamiData(startAt, endAt) {
  const url = `${API_BASE_URL}/api/websites/${WEBSITE_ID}/stats?startAt=${startAt}&amp;endAt=${endAt}`;
  const response = await fetch(url, {
    headers: {
      'Authorization': `Bearer ${TOKEN}`,
      'Content-Type': 'application/json'
    }
  });

  if (!response.ok) {
    console.error(`Error fetching data: ${response.statusText}`);
    return null;
  }

  return response.json();
}

async function handleRequest(event) {
  const cache = await caches.open(CACHE_KEY);
  const cachedResponse = await cache.match(event.request);

  if (cachedResponse) {
    return cachedResponse;
  }

  const now = Date.now();
  const todayStart = new Date(now).setHours(0, 0, 0, 0);
  const yesterdayStart = new Date(now - 86400000).setHours(0, 0, 0, 0);
  const lastMonthStart = new Date(now).setMonth(new Date(now).getMonth() - 1);
  const lastYearStart = new Date(now).setFullYear(new Date(now).getFullYear() - 1);

  const [todayData, yesterdayData, lastMonthData, lastYearData] = await Promise.all([
    fetchUmamiData(todayStart, now),
    fetchUmamiData(yesterdayStart, todayStart),
    fetchUmamiData(lastMonthStart, now),
    fetchUmamiData(lastYearStart, now)
  ]);

  const responseData = {
    today_uv: todayData?.visitors?.value ?? null,
    today_pv: todayData?.pageviews?.value ?? null,
    yesterday_uv: yesterdayData?.visitors?.value ?? null,
    yesterday_pv: yesterdayData?.pageviews?.value ?? null,
    last_month_pv: lastMonthData?.pageviews?.value ?? null,
    last_year_pv: lastYearData?.pageviews?.value ?? null
  };

  const jsonResponse = new Response(JSON.stringify(responseData), {
    headers: {
      'Content-Type': 'application/json',
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type, Authorization'
    }
  });

  event.waitUntil(cache.put(event.request, jsonResponse.clone()));

  return jsonResponse;
}
</code></pre>
<p>　　但是里面有几个比较重要的参数需要修改<code class="notranslate">API_BASE_URL</code>​、<code class="notranslate">TOKEN</code>​、<code class="notranslate">WEBSITE_ID</code>​其中<code class="notranslate">API_BASE_URL</code>​和<code class="notranslate">WEBSITE_ID</code>​已经是有的，<code class="notranslate">WEBSITE_ID</code>​在<kbd>umami</kbd>​中的设置，选择你已经添加好的网站，点击<kbd>编辑</kbd>​，会出现网站的<code class="notranslate">WEBSITE_ID</code>​：</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/28344b65ace51ca71606e6c26438f645b9ec0f9045f5cdbdced2be0ecc8ebad0/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f65464845594234356e514f55414d4c2e77656270"><img src="https://camo.githubusercontent.com/28344b65ace51ca71606e6c26438f645b9ec0f9045f5cdbdced2be0ecc8ebad0/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f65464845594234356e514f55414d4c2e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/eFHEYB45nQOUAML.webp" style="max-width: 100%;"></a></p>
<p>　　 2.2 获取<kbd>token</kbd>​，在想<kbd>api</kbd>​测试网站，<a href="https://hoppscotch.io/" rel="nofollow">hoppscotch</a>，跳转到这个页面以后，如下图所示</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/ea893bab1c933f8339a0d9b021da415f4bcb83780e17df72600523d4f771e65f/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f765872516d7470753448644961734e2e77656270"><img src="https://camo.githubusercontent.com/ea893bab1c933f8339a0d9b021da415f4bcb83780e17df72600523d4f771e65f/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30362f765872516d7470753448644961734e2e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/06/vXrQmtpu4HdIasN.webp" style="max-width: 100%;"></a></p>
<p>　　  2.2.1 请求方式选择<kbd>post</kbd>​，链接填写方式是：</p>
<pre class="notranslate"><code class="notranslate">https://你的umami域名或者是链接/api/auth/login
</code></pre>
<p>　　  2.2.2 请求体选择<kbd>Body</kbd>​参数格式选择<kbd>application/json</kbd></p>
<pre class="notranslate"><code class="notranslate">{
 "username":"用户名",
 "password":"密码"
}
</code></pre>
<p>　　  2.2.3 返回结果中<kbd>token</kbd>​里面的内容就是需要的<kbd>token</kbd></p>
<pre class="notranslate"><code class="notranslate">{
  "token": "你的token", # 你需要记录下来的内容
  "user": {
    "id": "41e2b680-648e-4b09-bcd7-3e2b10c06264",
    "username": "admin",
    "role": "admin",
    "createdAt": "2024-11-12T09:18:12.766Z",
    "isAdmin": true
  }
}
</code></pre>
<p>　　到这里，你部署<code class="notranslate">api</code>​所需要的所有参数内容都已经有了，给替换进去即可。</p>
<p>　　 2.3 测试在你部署好以后，会有一个链接，当然你如果是用<kbd>cloudflare</kbd>​代理你的域名，可以直接进行关联。</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6edd28661f10fe502832cc0c0f3f07c25ccabc94d090ebffc6c14844621b5d74/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30372f495043533272684c626961583347382e77656270"><img src="https://camo.githubusercontent.com/6edd28661f10fe502832cc0c0f3f07c25ccabc94d090ebffc6c14844621b5d74/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30372f495043533272684c626961583347382e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/07/IPCS2rhLbiaX3G8.webp" style="max-width: 100%;"></a></p>
<p>　　然后点击或则是复制粘贴到浏览器，请求以后会出来下面的结果：</p>
<p><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/aaa3bfbf6f57d68cca64a9f0d9a69f2a465c5df098bb828e1dcdbcecc7ccbbe9/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30372f4d39777369594b426f47794c4938542e77656270"><img src="https://camo.githubusercontent.com/aaa3bfbf6f57d68cca64a9f0d9a69f2a465c5df098bb828e1dcdbcecc7ccbbe9/68747470733a2f2f73322e6c6f6c692e6e65742f323032352f30342f30372f4d39777369594b426f47794c4938542e77656270" alt="" data-canonical-src="https://s2.loli.net/2025/04/07/M9wsiYKBoGyLI8T.webp" style="max-width: 100%;"></a></p>
<p>　　如果没有结果，建议你先去你部署的umami面板里面看看有没有数据，有数据的情况下，这里请求都会有数据的，清理浏览器缓存开代理在测试。</p>
<h2>第三部分：添加博客统计</h2>
<p>　　将数据添加到<kbd>about</kbd>​页面</p>
<pre class="notranslate"><code class="notranslate">tj: # 统计
  provider: custom # custom
  url: 你的数据接口地址
  img: https://7.isyangs.cn/1/65eb2e9109826-1.png # 背景
  desc: # 卡片左下角描述
</code></pre>
<p>　　配置完成~</p>
<p>　　感谢<a href="https://blog.starsharbor.com/" rel="nofollow">starsharbor</a>大佬博客的指导，<a href="https://blog.starsharbor.com/posts/solitude-about_umami/" rel="nofollow">原文</a></p>
<hr>
<h2>作者原文</h2>
<p>作者: Couture<br>
链接: <a href="https://www.coutures.top/posts/27233.html" rel="nofollow">https://www.coutures.top/posts/27233.html</a><br>
来源: Couture<br>
著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。</p></div>
<div style="font-size:small;margin-top:8px;float:right;">转载请注明出处</div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://Kemiaojun.github.io">喵落阁</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if("05/09/2025"!=""){
    var startSite=new Date("05/09/2025");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","Kemiaojun/Kemiaojun.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
<script src='https://source.314926.xyz/assets/GmeekTOC.js'></script><script src='https://source.314926.xyz/assets/lightbox.js'></script>

</html>
